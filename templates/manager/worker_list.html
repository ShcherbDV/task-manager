{% extends "layouts/base.html" %}
{% load crispy_forms_tags %}

{% block content %}
  <h1>
    Workers
    <a href="{% url 'manager:worker-create' %}" class="btn btn-primary link-to-page">
      Create new worker
    </a>
    </h1>
    <form action="" method="get" class="form-check-inline">
      {{ search_form|crispy }}
      <input type="submit" value="Search" class="btn btn-secondary">
    </form>
  {% if worker_list %}
    <div class="card border-0 shadow mb-4">
        <div class="card-body">
          <div class="table-responsive">
              <table class="table table-centered table-nowrap mb-0 rounded">
                  <thead class="thead-light">
                      <tr>
                          <th class="border-0 rounded-start">#</th>
                          <th class="border-0">Username</th>
                          <th class="border-0">First name</th>
                          <th class="border-0">Last name</th>
                          <th class="border-0">Position</th>
                      </tr>
                  </thead>
                  <tbody>
                      <!-- Item -->
                      {% for worker in worker_list %}
                      <tr>
                          <td>{{ worker.id }} </td>
                          <td class="fw-bold d-flex align-items-center">
                            <a href="{% url "manager:worker-detail" pk=worker.id %}">{{ worker.username }}</a>
                          </td>
                          <td>
                              {{ worker.first_name }}
                          </td>
                          <td>
                              {{ worker.last_name }}
                          </td>
                          <td>
                              {{ worker.position }}
                          </td>
                      </tr>
                      {% endfor %}
                      <!-- End of Item -->
                  </tbody>
              </table>
          </div>
      </div>
    </div>

  {% else %}
    <p>There are no workers in the company.</p>
  {% endif %}

{% endblock %}
